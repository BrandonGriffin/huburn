!function(){angular.module("huburn").controller("burndownCtrl",["$scope","$http","burndownCalculator",function(n,t,e){n.milestones=[];var a=function(n,t,e){n.get("/github",{params:t}).success(e)},s=function(n){var t=document.createElement("a");return t.href=n,t.pathname};t.get("/signedin").success(function(t){n.signedIn=t.signedIn});var o=function(){a(t,{path:"/repos/qualtrax/qualtrax/milestones",state:"closed",sort:"due_date",direction:"desc"},function(s){for(var o=function(s){a(t,{path:"/repos/qualtrax/qualtrax/issues",milestone:s.number,state:"all"},function(t){s.points=e.getTotalPoints(t);var a=n.milestones.slice(0);a.push(s),a.sort(function(n,t){return new Date(n.due_on)-new Date(t.due_on)}),n.milestones=a})},u=0;20>u&&u<s.length;u++)o(s[u])}),a(t,{path:"/repos/qualtrax/qualtrax/milestones/23"},function(s){a(t,{path:"/repos/qualtrax/qualtrax/issues",milestone:"23",state:"all"},function(t){n.burndown=e.getBurndown(s,t)})})};n.$watch("signedIn",function(n){n&&o()},!0)}])}();